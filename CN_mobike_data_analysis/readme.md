# 摩拜单车数据集分析
## by Fengyu Jiang

## 数据集介绍

摩拜单车的数据集包含了约 102361 条骑行数据，包含了订单ID（orderid）、自行车ID(bikeid)、用户ID（userid）、开始骑行时间(start_time)、开始骑行位置(start_location_x, start_location_y)、结束骑行时间(end_time)、结束骑行位置(end_location_x, end_location_y)、骑行轨迹(track)等属性。

根据数据集原有信息中新增是否为工作日(weekday)、骑行时间(cycle_time)、骑行距离(cycle_distance)等列。
根据骑行时间(cycle_time) 99% 分位数去除了 1027 条异常值; 根据骑行距离(cycle_distance) 99%分位数去除了  1014 条异常值。

## Summary of Findings

在“摩拜单车数据集探索分析”中：
1. 单变量部分探索了数据集整体开始骑行时间的分布；
2. 双变量探索中：
	1. 引入了新列 weekday 区分工作日和周末，生成了工作日和周末开始骑行时间的分布对比（distplot）；
	2. 通过计算开始时间与结束时间，引入新列 time 来记录骑行时长，并通过 99% 分位数去除了骑行时间中的异常值，生成 了开始骑行时间与骑行时长的分布图（pointplot）；
	3. 生成了工作日与周末的骑行时长分布对比图（violin）；
	4. 观察了开始骑行位置和结束位置的分布图，以 99% 分位数去除了分布位置的异常值；观察了骑行时长与开始骑行位置、结束骑行位置的分布（scatterplot），未发现明显关系；
	5. 基于开始骑行位置、结束骑行位置，引入新列 distance 来记录骑行距离，生成了骑行距离和骑行时间的回归关系图（regplot）。
3. 多变量探索中：将工作日/周末的区分分别引入开始骑行时间、骑行时长的分布图；骑行距离和骑行时间的回归关系图中。

## Key Insights for Presentation
在演示中将首先介绍工作日和周末开始骑行时间的对比分布图，再介绍骑行时长与工作日/周末开始骑行时间、距离的关系。

1. **工作日和周末开始骑行时间的分布图**，使用不同颜色及图例让听众直观感受到工作日/周末作为有效的分类变量对数据集的影响，应用到摩拜单车的运营中：如何提前规划好工作日上下班高峰期的单车调度；
2. **骑行时长与工作日/周末开始骑行时间的分布图**，使用不同颜色及标记符号，介绍工作日/周末开始骑行时间不同的特点，应用到摩拜单车的运营中：是否可针对周末骑车人群定制化推出包含更长骑行时长的骑行包 ；
3. **骑行时长与工作日/周末骑行距离的分布图，**使用不同颜色及标记符号，介绍工作日/周末骑行距离的特点，应用到摩拜单车的运营中：是否可还原周末骑行场景，例如是否在热门景区边骑行边旅游，作为运营活动切入点。

## 参考资料
* 计算 distance 距离的函数参考自：https://kanoki.org/2019/12/27/how-to-calculate-distance-in-python-and-pandas-using-scipy-spatial-and-distance-functions/